<!doctype html>
<html ng-app="recipies">
<head>
	<title>AngularJs Recipes</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	<script src="./js/lib/ui-bootstrap-tpls-0.10.0.min.js"></script>
	<script src="./js/app/app.js"></script>
	<script src="./js/app/modalController.js"></script>
</head>
<body class="container">
	 
	<div class="page-header">
  		<h1>AngularJs Recipe - Modal Dialog <small>Using Bootstrap Modal dialog in AngularJs</small></h1>
	</div>
	<div class="row" ng-controller="modalController">
		<div class="col-md-4">
			<p>Click here to open modal dialog</p>
			<button class="btn btn-default" ng-click="getAge()" > Click </button>
		</div>

		<div class="col-md-4" >
			Selected date of birth: {{dateOfBirth | date:'medium'}}
		</div>
		<div class="col-md-4">
			{{age}}
		</div>
	</div>
	<div class="row">
		<div class="col-md-6">
			<p> It shows the usage of AngularUI directive using Bootstrap CSS to display modal dialog.								
			</p>
		</div>
	</div>
	<div class="row"> 
		<div class="col-md-12">			
			<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">(<span style="color: #008800; font-weight: bold">function</span>(){
	
    <span style="color: #888888">//page controller</span>
	recipiesApp.controller(<span style="background-color: #fff0f0">&#39;nestedController&#39;</span>,[<span style="background-color: #fff0f0">&#39;$scope&#39;</span>,<span style="background-color: #fff0f0">&#39;$modal&#39;</span>,<span style="background-color: #fff0f0">&#39;$log&#39;</span>,<span style="color: #008800; font-weight: bold">function</span> ($scope, $modal,$log){
		
		$scope.getAge<span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">function</span>(){
			<span style="color: #008800; font-weight: bold">var</span> modalInstance <span style="color: #333333">=</span>  $modal.open({
                templateUrl<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&#39;age.dialog.html&#39;</span>,
                controller<span style="color: #333333">:</span> ModalAgeController,
                backdrop <span style="color: #333333">:</span> <span style="background-color: #fff0f0">&#39;static&#39;</span>                 
            });

            modalInstance.result.then(<span style="color: #008800; font-weight: bold">function</span> (dateOfBirth) {
                $scope.dateOfBirth <span style="color: #333333">=</span> dateOfBirth;
            },<span style="color: #008800; font-weight: bold">function</span>(){
                $log.info(<span style="background-color: #fff0f0">&#39;Modal dismissed at: &#39;</span> <span style="color: #333333">+</span> <span style="color: #008800; font-weight: bold">new</span> <span style="color: #007020">Date</span>());
            });
		}
	}])

	<span style="color: #888888">//Modal Dialog controller</span>
	<span style="color: #008800; font-weight: bold">function</span> ModalAgeController($scope, $log,$modalInstance) {
        $scope.dob <span style="color: #333333">=</span> {}
        $scope.dialog <span style="color: #333333">=</span> {
            title<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&#39;Please confirm&#39;</span>
        };
        $scope.ok <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">function</span> () {
           
            $modalInstance.close(<span style="color: #008800; font-weight: bold">new</span> <span style="color: #007020">Date</span>($scope.dob.year,$scope.dob.month, $scope.dob.date));
        };

        $scope.cancel <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">function</span> () {
            $modalInstance.dismiss(<span style="background-color: #fff0f0">&#39;cancel&#39;</span>);
        };
    }

    ModalAgeController.$inject <span style="color: #333333">=</span> [<span style="background-color: #fff0f0">&#39;$scope&#39;</span>, <span style="background-color: #fff0f0">&#39;$log&#39;</span>,<span style="background-color: #fff0f0">&#39;$modalInstance&#39;</span>];
    recipiesApp.controller(<span style="background-color: #fff0f0">&#39;ModalAgeController&#39;</span>,ModalAgeController);
})()
</pre></div>

		</div>
	</div>
	<script type="text/ng-template" id="age.dialog.html">
    
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="cancel()"  ng-hide="hideCancel && hideOk" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Enter your age</h4>
                </div>
                <div class="modal-body">
                    <p> Date of birth</p>


                     <div class="row">
                     	<div class="col-md-2" > 
                     		<span>Day</span>              		
							<select ng-model="dob.date">
								<option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
								<option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
								<option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
								<option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
								<option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
								<option>26</option><option>27</option><option>28</option><option>29</option><option>30</option><option>31</option>
							</select>
						</div>
						<div class="col-md-2" >
							<span>Month</span>  
							<select ng-model="dob.month">
								<option value="1">January</option><option value="2">February</option><option value="3">March</option>
								<option value="4">April</option><option value="5">May</option><option value="6">June</option>
								<option value="7">July</option><option value="8">August</option><option value="9">September</option>
								<option value="10">October</option><option value="11">November</option><option value="12">December</option>
							</select>
						</div>
						<div class="col-md-2" > 
							<span>Year</span> 
							<select ng-model="dob.year">
								<option>1999</option><option>2000</option><option>2001</option>
							</select>
						</div>
                     </div>
                      
                </div>
                <div class="modal-footer">
                    <button type="button" ng-hide="hideCancel" class="btn btn-default" data-dismiss="modal" ng-click="cancel()">Cancel</button>
                    <button type="button" ng-hide="hideOk" class="btn btn-primary" ng-click="ok()">Ok</button>
                </div>
            </div><!-- /.modal-content -->
       
	</script>
</body>
</html>